(function(_ds){var window=this;var a3=function(a){a='<a href="//www.youtube.com/watch?v='+_ds.tC(a.videoId)+'" class="devsite-video-placeholder"><img src="/_static/images/video-placeholder.svg" alt=""><span>';return(0,_ds.T)(a+"This resource may not be available in your region.</span></a>")},b3=function(a){return(0,_ds.T)('<video class="devsite-basic-video-player" src="//redirector.gvt1.com/edgedl/cn-devsite/'+_ds.V(a.videoId)+'.mp4" type="video/mp4" controls></video>')};var c3=[(0,_ds.Pb)`autoplay`,(0,_ds.Pb)`controls`,(0,_ds.Pb)`embed_domain`,(0,_ds.Pb)`enablejsapi`,(0,_ds.Pb)`end`,(0,_ds.Pb)`hl`,(0,_ds.Pb)`showinfo`,(0,_ds.Pb)`start`,(0,_ds.Pb)`video-id`],d3=["rel"],e3=["listType","list"],f3=null,g3=!1,i3=function(){h3.j=!1;const a=h3.o;delete h3.o;delete h3.h;if(a)for(const b of a)b();delete window.onYouTubeIframeAPIReady},j3=function(){h3.j=!0;const a=h3.h;delete h3.o;delete h3.h;if(a)for(const b of a)b()},k3=function(a){const b=_ds.P(b3,{videoId:String(a.getAttribute("video-id"))});
a.appendChild(b);b.addEventListener("error",()=>{a.removeChild(b);const c=_ds.P(a3,{videoId:String(a.getAttribute("video-id"))});a.appendChild(c)})},h3=class extends _ds.D{constructor(){super();this.v=this.h=null;_ds.Jg(this,...c3)}static get j(){return g3}static set j(a){g3=a}static get observedAttributes(){return["action"]}async connectedCallback(){var a=await _ds.v();if(a.hasFlagAccess(161)&&"cn"===_ds.x(a.getConfig(),16).split(".").pop())k3(this);else{this.parentNode.classList.contains("video-wrapper")&&
this.setAttribute("inline-small","");if(a=this.querySelector(".devsite-embedded-youtube-video")){for(var b of d3)a.hasAttribute(`data-${b}`)&&this.setAttribute(b,a.getAttribute(`data-${b}`)||"");for(var c of c3)a.hasAttribute(`data-${c.toString()}`)&&_ds.B(this,c,a.getAttribute(`data-${c.toString()}`)||"");for(const e of e3)a.hasAttribute(`data-${e}`)&&this.setAttribute(e,a.getAttribute(`data-${e}`)||"");if(a.src){b=new _ds.ri(a.src);for(var d of e3)(c=_ds.Hi(b,d))&&this.setAttribute(d,c)}this.removeChild(a)}h3.j&&
this.j();d=this.C.bind(this);a=this.j.bind(this);"YT"in window&&void 0!==window.YT?d=!0:(void 0===h3.o&&(h3.o=[]),void 0===h3.h&&(h3.h=[]),h3.o.push(d),h3.h.push(a),f3||(_ds.ad("onYouTubeIframeAPIReady",i3),f3=_ds.Wi("//www.youtube.com/iframe_api"),f3.catch(j3)),d=!1);d&&this.C()}}C(){const a=document.createElement("div");this.appendChild(a);var b={origin:_ds.E().origin};for(const c of d3)this.hasAttribute(c)&&(b[c]=this.getAttribute(c));for(const c of c3)_ds.Lg(this,c)&&(b[c.toString()]=_ds.Kg(this,
c));for(const c of e3)this.hasAttribute(c)&&(b[c]=this.getAttribute(c));b={playerVars:b,events:{onReady:this.F.bind(this),onStateChange:this.H.bind(this),onError:this.D.bind(this),onVideoProgress:this.G.bind(this)}};this.hasAttribute("video-id")&&(b.videoId=this.getAttribute("video-id")||void 0);this.h=new YT.Player(a,b)}attributeChangedCallback(a,b,c){if(this.h&&"action"===a)switch(c){case "play":this.h.playVideo();break;case "pause":this.h.pauseVideo();break;case "stop":this.h.stopVideo()}}F(a){if(void 0!==
a&&void 0!==a.target){this.setAttribute("tabindex","0");a=a.target;var b=a.getVideoData().title;b&&this.setAttribute("aria-label",`${"You are currently on an element that contains a YouTube video titled:"} ${b}. ${"Continue tabbing to hear the contained options."}`);"play"===this.getAttribute("action")&&a.playVideo()}}G(a){if(void 0!==a&&void 0!==a.data&&void 0!==a.target){var b=a.data,c=a.target;a=c.getVideoData().video_id;var d=c.getDuration();c=c.getCurrentTime();this.dispatchEvent(new CustomEvent("devsite-youtube-progress",
{detail:{videoId:a,progress:b,currentTime:c,duration:d},bubbles:!0}))}}H(a){if(void 0!==a&&void 0!==a.data&&void 0!==a.target){var b=a.data,c=a.target;a=c.getVideoData().video_id;var d=c.getCurrentTime();"number"===typeof d&&(d=Math.floor(d));c=c.getDuration();var e={videoId:a,currentTime:d,duration:c};switch(b){case YT.PlayerState.PLAYING:this.setAttribute("action","play");c=null===this.v?"Video Start":"Video Resume";this.dispatchEvent(new CustomEvent("devsite-youtube-playing",{detail:e,bubbles:!0}));
break;case YT.PlayerState.PAUSED:this.setAttribute("action","pause");c="Video Paused";this.dispatchEvent(new CustomEvent("devsite-youtube-paused",{detail:e,bubbles:!0}));break;case YT.PlayerState.ENDED:this.removeAttribute("action");c="Video Finished";this.dispatchEvent(new CustomEvent("devsite-youtube-ended",{detail:e,bubbles:!0}));break;default:return}this.v=b;this.dispatchEvent(new CustomEvent("devsite-analytics-observation",{detail:{category:"Site-Wide Custom Events",action:c,label:a,value:d},
bubbles:!0}));b={name:c.replace(" ",""),type:"youTubeVideo",metadata:{youTubeId:a,videoTime:d}};b={eventData:JSON.stringify(b)};this.dispatchEvent(new CustomEvent("devsite-analytics-observation-cloudtrack",{detail:b,bubbles:!0}))}}D(){}j(){const a=_ds.P(a3,{videoId:String(this.getAttribute("video-id"))});this.appendChild(a)}disconnectedCallback(){this.h&&this.h.destroy()}};h3.o=void 0;h3.h=void 0;try{window.customElements.define("devsite-youtube",h3)}catch(a){console.warn("devsite.app.customElement.DevsiteYouTube",a)};})(_ds_www);
